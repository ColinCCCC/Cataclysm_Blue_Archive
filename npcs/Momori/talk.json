[
    {
	    "type": "mutation",
        "id": "standby_Momori",
        "copy-from": "mutation_mark_Common",
        "name": {"str": "桃井待命中"},
        "description": "桃井待命中"
    },
    {
        "id": "TALK_Momori_recruit",
        "type": "talk_topic",
        "dynamic_line": "有趣的事现在开始！(これから、すっごく面白い物語が始まるよ！)",
        "responses": [
            {
                "text": "ᕕ(◠ڼ◠)ᕗ",
                "effect": [
                    "follow",
                    { "npc_learn_martial_art": "style_niten" },
                    { "npc_set_talker": { "global_val": "Momori_id" } },
                    { "set_string_var": "游戏开发部", "target_var": { "npc_val": "student_organization" } },
                    { "set_string_var": "★★", "target_var": { "npc_val": "student_stars" } },
                    { "math": [ "npc_number_stars_cnt_student_stars", "=", "2" ] },
                    { "set_string_var": "Momori", "target_var": { "npc_val": "student_ename" } },
                    { "set_string_var": "有什么需要帮忙吗？", "target_var": { "npc_val": "student_topic" } }
                ],
                "topic": "TALK_DONE"
            }
        ]
    },
    {
        "id": [ "TALK_Kivotos_Students" ],
        "type": "talk_topic",
        "responses": [
            {
                "condition": { "npc_has_trait": "Mutation_Momori" },
                "text": "[3 Cost] 创作的痛苦(进行带有范围伤害的扫射)",
                "trial": { "type": "CONDITION", "condition": { "math": [ "u_vitamin('vitamin_ba_cost')", ">=", "3" ] } },
                "success": {
                    "topic": "TALK_DONE",
                    "effect": [
                        { "math": [ "u_vitamin('vitamin_ba_cost')", "-=", "3" ] },
                        { "u_set_talker": { "global_val": "player_id" } },
                        "take_control",
                        { "set_string_var": "caster_spell_Momori_cone_aoe", "target_var": { "context_val": "student_spell_caster" } },
                        { "queue_eocs": "EOC_student_cast_spell", "time_in_future": 2 },
                        { "queue_eocs": "EOC_return_to_player", "time_in_future": 5 }
                    ]
                },
                "failure": { "topic": "TALK_NOEnoughCost" }
            }
        ]
    },
    {
        "type": "talk_topic",
        "id": [ "TALK_Arona_Recall" ],
        "responses": [
            {
                "text": "召回桃井",
                "condition": { "u_has_trait": "standby_Momori"},
                "effect": [
                    { "math": [ "Student_id", "=", "Momori_id" ] },
                    { "u_lose_trait": "standby_Momori" },
                    { "run_eocs": [  "EOC_Recall_Student" ] }
                ],
                "topic": "TALK_DONE"
            }
        ]
    }
]