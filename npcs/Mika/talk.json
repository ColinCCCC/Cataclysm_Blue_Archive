[
    {
	    "type": "mutation",
        "id": "standby_Mika",
        "copy-from": "mutation_mark_Common",
        "name": {"str": "未花待命中"},
        "description": "未花待命中"
    },
    {
        "id": "TALK_Mika_recruit",
        "type": "talk_topic",
        "dynamic_line": "圣园弥香，闪亮登场☆~这样的感觉么？啊，老师我们关系很好，就不需要见外了，对吧？今后请多多指教~(聖園ミカ、ついに登場～☆ って感じかな？あっ、私と先生の仲だしアイスブレイクとかはいらないよね？これからよろしくね、先生。)。",
        "responses": [
            {
                "text": "ᕕ(◠ڼ◠)ᕗ",
                "effect": [
                    "follow",
                    { "npc_set_talker": { "global_val": "Mika_id" } },
                    { "set_string_var": "茶会", "target_var": { "npc_val": "student_organization" } },
                    { "set_string_var": "★★★", "target_var": { "npc_val": "student_stars" } },
                    { "set_string_var": "Mika", "target_var": { "npc_val": "student_ename" } },
                    { "set_string_var": "有什么需要帮忙吗？", "target_var": { "npc_val": "student_topic" } }
                ],
                "topic": "TALK_DONE"
            }
        ]
    },
    {
        "id": [ "TALK_Kivotos_Students" ],
        "type": "talk_topic",
        "responses": [
            {
                "condition": { "npc_has_trait": "Mutation_Mika" },
                "text": "[6 Cost] Kyrie Eleison(对一名敌人造成大量伤害)",
                "trial": { "type": "CONDITION", "condition": { "math": [ "u_vitamin('vitamin_ba_cost')", ">=", "6" ] } },
                "success": {
                    "topic": "TALK_DONE",
                    "effect": [
                        { "math": [ "u_vitamin('vitamin_ba_cost')", "-=", "6" ] },
                        { "u_set_talker": { "global_val": "player_id" } },
                        "take_control",
                        { "u_spawn_item": "caster_spell_kyrie","count": 1 },
                        { "queue_eocs": "EOC_return_to_player", "time_in_future": 5 }
                    ]
                },
                "failure": { "topic": "TALK_NOEnoughCost" }
            }
        ]
    },
    {
        "type": "talk_topic",
        "id": [ "TALK_Arona_Recall" ],
        "responses": [
            {
                "text": "召回未花",
                "condition": { "u_has_trait": "standby_Mika"},
                "effect": [
                    { "math": [ "Student_id", "=", "Mika_id" ] },
                    { "u_lose_trait": "standby_Mika" },
                    { "run_eocs": [  "EOC_Recall_Student" ] }
                ],
                "topic": "TALK_DONE"
            }
        ]
    }
]
